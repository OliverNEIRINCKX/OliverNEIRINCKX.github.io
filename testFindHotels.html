<!DOCTYPE html>
<html>
    <head>
        <meta charset= "utf-8">
        <meta name= "viewport" content= "width=device-width, initial-scale=1">
        <title>Space Hotels</title>
    </head>
    
    <body>
        <h1>Welcome to SpaceHotels!</h1>
        <h3>The best place to book hotels in our solar system</h3>
        <br>
        <h3>Where would you like to go?</h3>

        <form name="findHotels" action="showAvailableHotels.html">
            <label for="planetName">Choose a Planet:</label>
            <select name="planetName" id="planetName">
                <option value="Mercury">Mercury</option>
                <option value="Venus">Venus</option>
                <option value="Mars">Mars</option>
                <option value="Jupiter">Jupiter</option>
                <option value="Saturn">Saturn</option>
                <option value="Uranus">Uranus</option>
                <option value="Neptune">Neptune</option>
            </select>
            <label for="checkInDate">Check-in Date: </label>
            <input type= "date" id= "checkInDate" name= "checkInDate" placeholder="check-in date" onchange="getMaxDate(), getMinDate()" required>
            <label for="checkOutDate">Check-out Date: </label>
            <input type= "date" id= "checkOutDate" name= "checkOutDate" placeholder="check-out date" required>
            <label for="numberOfPersons">Number of Persons: </label>
            <input type="number" id="numberOfPersons" name= "numberOfPersons" value=3 min=1 placeholder="number of persons" required>
            <input type="submit" value="Find Hotels">
        </form>
        
    
        
        <p id= "demo"></p>

        <script>
            function frmt(number) {
                if (number < 10) return "0" + number;
                else return number;
            }

            function getMinDate() {
                let minDate = new Date(document.getElementById("checkInDate").value);
                minDate.setDate(minDate.getDate() + 1);
                let minDateString = minDate.getFullYear() + "-" + frmt((minDate.getMonth() + 1)) + "-" + frmt(minDate.getDate());

                document.getElementById("checkOutDate").min = minDateString;
            }

            function getMaxDate() {
                let maxDate = new Date(document.getElementById("checkInDate").value);
                maxDate.setDate(maxDate.getDate() + 28);
                let maxDateString = maxDate.getFullYear() + "-" + frmt((maxDate.getMonth() + 1)) + "-" + frmt(maxDate.getDate());
                
                document.getElementById("checkOutDate").max = maxDateString;
            }
            
            function getMaxDateForCheckInDate() {
                let maxDate = new Date();
                maxDate.setDate(maxDate.getDate() + 365);
                let maxDateString = maxDate.getFullYear() + "-" + frmt((maxDate.getMonth() + 1)) + "-" + frmt(maxDate.getDate());

                document.getElementById("checkInDate").max = maxDateString;
            }

            function getValueForCheckInDate() {
                let value = new Date();
                value.setDate(value.getDate() + 1);
                let valueString = value.getFullYear() + "-" + frmt((value.getMonth() + 1)) + "-" + frmt(value.getDate());

                document.getElementById("checkInDate").value = valueString;
                //sets also the minDate for checkIndate
                document.getElementById("checkInDate").min =valueString
            }

            function getValueForCheckOutDate() {
                let value = new Date();
                value.setDate(value.getDate() + 8);
                let valueString = value.getFullYear() + "-" + frmt((value.getMonth() + 1)) + "-" + frmt(value.getDate());

                document.getElementById("checkOutDate").value = valueString;
            }

            getValueForCheckInDate();
            getValueForCheckOutDate();
            getMinDate();
            getMaxDate();
            getMaxDateForCheckInDate();
            
        </script>
        

    </body>
</html>